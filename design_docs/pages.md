## 各ページ

### ログインページ

- ログイン
- ユーザー登録

### トップページ

- 数値データ
    - 現在進行中のタスク数（開始日が今日以前かつ完了率が100未満のタスク数）
    - 今までの累計タスク完了数
    - 今月のタスク完了数（）
    - 今までの累計サブタスク完了数（v2）
    - 今月のサブタスク完了数（v2）
    - 今月の作業時間
    - 今までの累計作業時間
- スケジュールの遅れを可視化
    - (タスクの進捗率) - (タスクの開始日から今日までの作業計画値の累積値) がマイナスのタスクをすべて表示
    - (タスクの作業時間) - (タスクの開始日から今日までの時間計画値の累積値) がマイナスのタスクをすべて表示
- グラフ
    - 全作業記録合算の、日毎の作業時間の棒グラフ
- 各タスクをガントチャート風に表示
    - サブタスクも含める（v2）

### タスク一覧ページ

- タスク新規作成ボタン（タスク作成ページに遷移）
- 各タスク毎に削除・編集ボタン
    - 削除ボタン（削除確認ページ遷移）
    - 編集ボタン（タスク編集ページ遷移）
- 各タスク毎にグラフを表示
    - 開始日から終了日までの作業計画値の折れ線グラフ
    - 開始日から終了日までの進捗値の折れ線グラフ（record_worksを日毎に集計します）
    - 開始日から終了日までの時間計画値の折れ線グラフ
    - 開始日から終了日までの作業時間の折れ線グラフ（record_worksを日毎に集計します）
- サブタスク作成・削除ボタン（v2）
- サブタスク編集フォーム（v2）

### タスク作成ページ

- tasks情報入力
- 紐づけるdaily_plansの自動作成ボタン
    - tasks情報のstart_at, end_atに対応するフォームの値から、開始日から終了日までの計画値を入力できる折れ線グラフ型のGUI
        - **表示:** 横軸に日付、縦軸に作業時間を割り当てた折れ線グラフを描画します。
        - **操作:** ユーザーがグラフ上の各日付に対応する点（データポイント）をマウスで掴んで上下にドラッグできるようにします。
    - さらに、各日付には均等に値を配分したものを自動で入力されるようにする
        - time_plan_value：100%を均等に分割（整数にする）
        - work_plan_value：tasks情報のtarget_timeに対応するフォームの値を均等に分割（整数にする）
    - ただし、各値は変更可能
- 作成ボタンを押したらバックエンドに送信
    - tasksの作成
    - daily_plansの作成
        - time_plan_valueのバリデーション(計画値の合計が目標時間と一致するか)
        - work_plan_valueのバリデーション(計画値の合計が100になるか)と作成

### タスク編集ページ

- タスク作成ページと基本は同じ画面で編集
    - tasks情報の編集
    - daily_plansの各値の編集
- ただし、開始日時や終了日時の変更に伴うdaily_plansの変更に気を付ける
    - 開始日時や終了日時が減る…daily_plansの該当日のレコードを削除する
    - 開始日時や終了日時が増える…daily_plansの該当日のレコードを作成する
    - 開始日時や終了日時の時間は変更されるが、日は変わらない…daily_plansのレコードの作成や削除は行われない
- 編集ボタンを押したらバックエンドに送信

### タスク削除確認ページ

- 該当タスクを削除するが、紐づくdaily_plansレコードもすべて削除される
→参照制約でいけるか？
- 紐づくrecord_worksレコードは削除されずに残る

### 実績記録一覧

- __目的__
  - 日々の作業「実績記録（record_works）」を閲覧・追加・編集・削除する。
  - 2つの表示モードを切替できる。

- __モード__
  - by_task（タスクごとボード表示）
    - 参考イメージ: カンバン風。各カラムが `task`。カードとしてそのタスクの実績記録を日付降順で並べる。
    - カード情報: 日付、作業時間（分）、進捗値、メモ、担当者アイコン（将来）。
    - ヘッダ: タスク名、担当者アバター群、（将来）進捗集計。
  - diary（タイムライン表示）
    - すべての実績を時系列（降順）で縦に並べる。
    - 各カードにタスク名バッジを付与。

- __フィルタ/操作__
  - 期間フィルタ: from, to（日付）。
  - タスク指定: task_id（by_task時に特定タスクのみ）。
  - ページング: page, per_page（diary時）。
  - 新規実績追加ボタン（各タスク行/全体の右上）。
  - 各実績カードに「編集」「削除」ボタン。

- __UIレイアウト（by_task）__
  - 画面上部: モード切替トグル、期間フィルタ、検索。
  - 本体: 横スクロール可能なタスク列。各列ヘッダにタスク名と件数。
  - 列内: 実績カード（ドラッグ&ドロップは将来）。

- __UIレイアウト（diary）__
  - 上部は同様。下部は1カラムのカードリスト（無限スクロールまたはページング）。

- __バリデーション/メトリクス（将来）__
  - 入力時の `work_time` 合計が `daily_plans.time_plan_value` と大きく乖離している場合の警告。
  - 進捗値と作業時間の相関チェック。